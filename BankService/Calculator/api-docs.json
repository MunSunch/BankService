{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Calculator of loans controller","description":"displays possible offers and calculates the loan"}],"paths":{"/v1/calculator/offers":{"post":{"tags":["Calculator of loans controller"],"summary":"calculation possible offers","operationId":"calculatePossibleLoanTerms","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoanStatementRequestDto"}}},"required":true},"responses":{"200":{"description":"Calculated offers","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoanOfferDto"}}}},"400":{"description":"Invalid format","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"500":{"description":"Server's error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}}}}},"/v1/calculator/calc":{"post":{"tags":["Calculator of loans controller"],"summary":"calculation credit","operationId":"fullCalculateLoanParametersAndScoring","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScoringDataDto"}}},"required":true},"responses":{"200":{"description":"Calculated credit","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreditDto"}}}},"400":{"description":"Invalid format","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}},"500":{"description":"Server's error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"}}}}}}}},"components":{"schemas":{"LoanStatementRequestDto":{"required":["amount","birthdate","email","firstName","lastName","middleName","passportNumber","passportSeries","term"],"type":"object","properties":{"amount":{"minimum":30000,"type":"number"},"term":{"minimum":6,"type":"integer","format":"int32"},"firstName":{"pattern":"^[a-zA-Z]{2,30}$","type":"string"},"lastName":{"pattern":"^[a-zA-Z]{2,30}$","type":"string"},"middleName":{"pattern":"^[a-zA-Z]{2,30}$","type":"string"},"email":{"pattern":"^[a-zA-Z0-9_!#$%&'*+/=?`{|}~^.-]+@[a-zA-Z0-9.-]+$","type":"string"},"birthdate":{"type":"string","format":"date"},"passportSeries":{"pattern":"^\\d{4}$","type":"string"},"passportNumber":{"pattern":"^\\d{6}$","type":"string"}}},"LoanOfferDto":{"type":"object","properties":{"statementId":{"type":"string","format":"uuid"},"requestedAmount":{"type":"number"},"totalAmount":{"type":"number"},"term":{"type":"integer","format":"int32"},"monthlyPayment":{"type":"number"},"rate":{"type":"number"},"isInsuranceEnabled":{"type":"boolean"},"isSalaryClient":{"type":"boolean"}}},"ErrorMessage":{"type":"object","properties":{"message":{"type":"string"}}},"EmploymentDto":{"type":"object","properties":{"employmentStatus":{"type":"string","enum":["UNEMPLOYED","SELF_EMPLOYED","BUSINESSMAN","UNKNOWN"]},"employerINN":{"type":"string"},"salary":{"type":"number"},"position":{"type":"string","enum":["MIDDLE_MANAGER","TOP_MANAGER"]},"workExperienceTotal":{"type":"integer","format":"int32"},"workExperienceCurrent":{"type":"integer","format":"int32"}}},"ScoringDataDto":{"type":"object","properties":{"amount":{"type":"number"},"term":{"type":"integer","format":"int32"},"firstname":{"type":"string"},"lastName":{"type":"string"},"middleName":{"type":"string"},"gender":{"type":"string","enum":["MALE","FEMALE","NOT_BINARY"]},"email":{"type":"string"},"birthdate":{"type":"string","format":"date"},"passportSeries":{"type":"string"},"passportNumber":{"type":"string"},"passportIssueDate":{"type":"string","format":"date"},"passportIssueBranch":{"type":"string"},"maritalStatus":{"type":"string","enum":["SINGLE","MARRIED"]},"dependentAmount":{"type":"integer","format":"int32"},"employment":{"$ref":"#/components/schemas/EmploymentDto"},"accountNumber":{"type":"string"},"isInsuranceEnabled":{"type":"boolean"},"isSalaryClient":{"type":"boolean"}}},"CreditDto":{"type":"object","properties":{"amount":{"type":"number"},"term":{"type":"integer","format":"int32"},"monthlyPayment":{"type":"number"},"rate":{"type":"number"},"psk":{"type":"number"},"isInsuranceEnabled":{"type":"boolean"},"isSalaryClient":{"type":"boolean"},"paymentSchedule":{"type":"array","items":{"$ref":"#/components/schemas/PaymentScheduleElementDto"}}}},"PaymentScheduleElementDto":{"type":"object","properties":{"number":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date"},"totalPayment":{"type":"number"},"interestPayment":{"type":"number"},"debtPayment":{"type":"number"},"remainingDebt":{"type":"number"}}}}}}