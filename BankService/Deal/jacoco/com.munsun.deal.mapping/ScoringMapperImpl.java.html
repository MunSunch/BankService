<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="ru"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ScoringMapperImpl.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Deal</a> &gt; <a href="index.source.html" class="el_package">com.munsun.deal.mapping</a> &gt; <span class="el_source">ScoringMapperImpl.java</span></div><h1>ScoringMapperImpl.java</h1><pre class="source lang-java linenums">package com.munsun.deal.mapping;

import com.munsun.deal.dto.request.EmploymentDto;
import com.munsun.deal.dto.request.FinishRegistrationRequestDto;
import com.munsun.deal.dto.request.ScoringDataDto;
import com.munsun.deal.dto.response.LoanOfferDto;
import com.munsun.deal.models.Client;
import com.munsun.deal.models.Statement;
import com.munsun.deal.models.enums.Gender;
import com.munsun.deal.models.enums.MaritalStatus;
import com.munsun.deal.models.json.Passport;
import java.math.BigDecimal;
import java.time.LocalDate;
import javax.annotation.processing.Generated;
import org.springframework.stereotype.Component;

@Generated(
    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,
    date = &quot;2024-06-15T19:28:32+0300&quot;,
    comments = &quot;version: 1.5.5.Final, compiler: javac, environment: Java 17.0.2 (Microsoft)&quot;
)
@Component
<span class="fc" id="L23">public class ScoringMapperImpl implements ScoringMapper {</span>

    @Override
    public ScoringDataDto toScoringDataDto(Statement statement, FinishRegistrationRequestDto finishRegistration) {
<span class="pc bpc" id="L27" title="3 of 4 branches missed.">        if ( statement == null &amp;&amp; finishRegistration == null ) {</span>
<span class="nc" id="L28">            return null;</span>
        }

<span class="fc" id="L31">        BigDecimal amount = null;</span>
<span class="fc" id="L32">        Integer term = null;</span>
<span class="fc" id="L33">        Boolean isInsuranceEnabled = null;</span>
<span class="fc" id="L34">        Boolean isSalaryClient = null;</span>
<span class="fc" id="L35">        String firstname = null;</span>
<span class="fc" id="L36">        String lastName = null;</span>
<span class="fc" id="L37">        String middleName = null;</span>
<span class="fc" id="L38">        String email = null;</span>
<span class="fc" id="L39">        LocalDate birthdate = null;</span>
<span class="fc" id="L40">        String passportSeries = null;</span>
<span class="fc" id="L41">        String passportNumber = null;</span>
<span class="pc bpc" id="L42" title="1 of 2 branches missed.">        if ( statement != null ) {</span>
<span class="fc" id="L43">            amount = statementAppliedOfferRequestedAmount( statement );</span>
<span class="fc" id="L44">            term = statementAppliedOfferTerm( statement );</span>
<span class="fc" id="L45">            isInsuranceEnabled = statementAppliedOfferIsInsuranceEnabled( statement );</span>
<span class="fc" id="L46">            isSalaryClient = statementAppliedOfferIsSalaryClient( statement );</span>
<span class="fc" id="L47">            firstname = statementClientFirstName( statement );</span>
<span class="fc" id="L48">            lastName = statementClientLastName( statement );</span>
<span class="fc" id="L49">            middleName = statementClientMiddleName( statement );</span>
<span class="fc" id="L50">            email = statementClientEmail( statement );</span>
<span class="fc" id="L51">            birthdate = statementClientBirthdate( statement );</span>
<span class="fc" id="L52">            passportSeries = statementClientPassportSeries( statement );</span>
<span class="fc" id="L53">            passportNumber = statementClientPassportNumber( statement );</span>
        }
<span class="fc" id="L55">        String passportIssueBranch = null;</span>
<span class="fc" id="L56">        Gender gender = null;</span>
<span class="fc" id="L57">        LocalDate passportIssueDate = null;</span>
<span class="fc" id="L58">        MaritalStatus maritalStatus = null;</span>
<span class="fc" id="L59">        Integer dependentAmount = null;</span>
<span class="fc" id="L60">        EmploymentDto employment = null;</span>
<span class="fc" id="L61">        String accountNumber = null;</span>
<span class="pc bpc" id="L62" title="1 of 2 branches missed.">        if ( finishRegistration != null ) {</span>
<span class="fc" id="L63">            passportIssueBranch = finishRegistration.passportIssueBranch();</span>
<span class="fc" id="L64">            gender = finishRegistration.gender();</span>
<span class="fc" id="L65">            passportIssueDate = finishRegistration.passportIssueDate();</span>
<span class="fc" id="L66">            maritalStatus = finishRegistration.maritalStatus();</span>
<span class="fc" id="L67">            dependentAmount = finishRegistration.dependentAmount();</span>
<span class="fc" id="L68">            employment = finishRegistration.employment();</span>
<span class="fc" id="L69">            accountNumber = finishRegistration.accountNumber();</span>
        }

<span class="fc" id="L72">        ScoringDataDto scoringDataDto = new ScoringDataDto( amount, term, firstname, lastName, middleName, gender, email, birthdate, passportSeries, passportNumber, passportIssueDate, passportIssueBranch, maritalStatus, dependentAmount, employment, accountNumber, isInsuranceEnabled, isSalaryClient );</span>

<span class="fc" id="L74">        return scoringDataDto;</span>
    }

    private BigDecimal statementAppliedOfferRequestedAmount(Statement statement) {
<span class="pc bpc" id="L78" title="1 of 2 branches missed.">        if ( statement == null ) {</span>
<span class="nc" id="L79">            return null;</span>
        }
<span class="fc" id="L81">        LoanOfferDto appliedOffer = statement.getAppliedOffer();</span>
<span class="pc bpc" id="L82" title="1 of 2 branches missed.">        if ( appliedOffer == null ) {</span>
<span class="nc" id="L83">            return null;</span>
        }
<span class="fc" id="L85">        BigDecimal requestedAmount = appliedOffer.requestedAmount();</span>
<span class="pc bpc" id="L86" title="1 of 2 branches missed.">        if ( requestedAmount == null ) {</span>
<span class="nc" id="L87">            return null;</span>
        }
<span class="fc" id="L89">        return requestedAmount;</span>
    }

    private Integer statementAppliedOfferTerm(Statement statement) {
<span class="pc bpc" id="L93" title="1 of 2 branches missed.">        if ( statement == null ) {</span>
<span class="nc" id="L94">            return null;</span>
        }
<span class="fc" id="L96">        LoanOfferDto appliedOffer = statement.getAppliedOffer();</span>
<span class="pc bpc" id="L97" title="1 of 2 branches missed.">        if ( appliedOffer == null ) {</span>
<span class="nc" id="L98">            return null;</span>
        }
<span class="fc" id="L100">        Integer term = appliedOffer.term();</span>
<span class="pc bpc" id="L101" title="1 of 2 branches missed.">        if ( term == null ) {</span>
<span class="nc" id="L102">            return null;</span>
        }
<span class="fc" id="L104">        return term;</span>
    }

    private Boolean statementAppliedOfferIsInsuranceEnabled(Statement statement) {
<span class="pc bpc" id="L108" title="1 of 2 branches missed.">        if ( statement == null ) {</span>
<span class="nc" id="L109">            return null;</span>
        }
<span class="fc" id="L111">        LoanOfferDto appliedOffer = statement.getAppliedOffer();</span>
<span class="pc bpc" id="L112" title="1 of 2 branches missed.">        if ( appliedOffer == null ) {</span>
<span class="nc" id="L113">            return null;</span>
        }
<span class="fc" id="L115">        Boolean isInsuranceEnabled = appliedOffer.isInsuranceEnabled();</span>
<span class="pc bpc" id="L116" title="1 of 2 branches missed.">        if ( isInsuranceEnabled == null ) {</span>
<span class="nc" id="L117">            return null;</span>
        }
<span class="fc" id="L119">        return isInsuranceEnabled;</span>
    }

    private Boolean statementAppliedOfferIsSalaryClient(Statement statement) {
<span class="pc bpc" id="L123" title="1 of 2 branches missed.">        if ( statement == null ) {</span>
<span class="nc" id="L124">            return null;</span>
        }
<span class="fc" id="L126">        LoanOfferDto appliedOffer = statement.getAppliedOffer();</span>
<span class="pc bpc" id="L127" title="1 of 2 branches missed.">        if ( appliedOffer == null ) {</span>
<span class="nc" id="L128">            return null;</span>
        }
<span class="fc" id="L130">        Boolean isSalaryClient = appliedOffer.isSalaryClient();</span>
<span class="pc bpc" id="L131" title="1 of 2 branches missed.">        if ( isSalaryClient == null ) {</span>
<span class="nc" id="L132">            return null;</span>
        }
<span class="fc" id="L134">        return isSalaryClient;</span>
    }

    private String statementClientFirstName(Statement statement) {
<span class="pc bpc" id="L138" title="1 of 2 branches missed.">        if ( statement == null ) {</span>
<span class="nc" id="L139">            return null;</span>
        }
<span class="fc" id="L141">        Client client = statement.getClient();</span>
<span class="fc bfc" id="L142" title="All 2 branches covered.">        if ( client == null ) {</span>
<span class="fc" id="L143">            return null;</span>
        }
<span class="fc" id="L145">        String firstName = client.getFirstName();</span>
<span class="pc bpc" id="L146" title="1 of 2 branches missed.">        if ( firstName == null ) {</span>
<span class="nc" id="L147">            return null;</span>
        }
<span class="fc" id="L149">        return firstName;</span>
    }

    private String statementClientLastName(Statement statement) {
<span class="pc bpc" id="L153" title="1 of 2 branches missed.">        if ( statement == null ) {</span>
<span class="nc" id="L154">            return null;</span>
        }
<span class="fc" id="L156">        Client client = statement.getClient();</span>
<span class="fc bfc" id="L157" title="All 2 branches covered.">        if ( client == null ) {</span>
<span class="fc" id="L158">            return null;</span>
        }
<span class="fc" id="L160">        String lastName = client.getLastName();</span>
<span class="pc bpc" id="L161" title="1 of 2 branches missed.">        if ( lastName == null ) {</span>
<span class="nc" id="L162">            return null;</span>
        }
<span class="fc" id="L164">        return lastName;</span>
    }

    private String statementClientMiddleName(Statement statement) {
<span class="pc bpc" id="L168" title="1 of 2 branches missed.">        if ( statement == null ) {</span>
<span class="nc" id="L169">            return null;</span>
        }
<span class="fc" id="L171">        Client client = statement.getClient();</span>
<span class="fc bfc" id="L172" title="All 2 branches covered.">        if ( client == null ) {</span>
<span class="fc" id="L173">            return null;</span>
        }
<span class="fc" id="L175">        String middleName = client.getMiddleName();</span>
<span class="pc bpc" id="L176" title="1 of 2 branches missed.">        if ( middleName == null ) {</span>
<span class="nc" id="L177">            return null;</span>
        }
<span class="fc" id="L179">        return middleName;</span>
    }

    private String statementClientEmail(Statement statement) {
<span class="pc bpc" id="L183" title="1 of 2 branches missed.">        if ( statement == null ) {</span>
<span class="nc" id="L184">            return null;</span>
        }
<span class="fc" id="L186">        Client client = statement.getClient();</span>
<span class="fc bfc" id="L187" title="All 2 branches covered.">        if ( client == null ) {</span>
<span class="fc" id="L188">            return null;</span>
        }
<span class="fc" id="L190">        String email = client.getEmail();</span>
<span class="pc bpc" id="L191" title="1 of 2 branches missed.">        if ( email == null ) {</span>
<span class="nc" id="L192">            return null;</span>
        }
<span class="fc" id="L194">        return email;</span>
    }

    private LocalDate statementClientBirthdate(Statement statement) {
<span class="pc bpc" id="L198" title="1 of 2 branches missed.">        if ( statement == null ) {</span>
<span class="nc" id="L199">            return null;</span>
        }
<span class="fc" id="L201">        Client client = statement.getClient();</span>
<span class="fc bfc" id="L202" title="All 2 branches covered.">        if ( client == null ) {</span>
<span class="fc" id="L203">            return null;</span>
        }
<span class="fc" id="L205">        LocalDate birthdate = client.getBirthdate();</span>
<span class="pc bpc" id="L206" title="1 of 2 branches missed.">        if ( birthdate == null ) {</span>
<span class="nc" id="L207">            return null;</span>
        }
<span class="fc" id="L209">        return birthdate;</span>
    }

    private String statementClientPassportSeries(Statement statement) {
<span class="pc bpc" id="L213" title="1 of 2 branches missed.">        if ( statement == null ) {</span>
<span class="nc" id="L214">            return null;</span>
        }
<span class="fc" id="L216">        Client client = statement.getClient();</span>
<span class="fc bfc" id="L217" title="All 2 branches covered.">        if ( client == null ) {</span>
<span class="fc" id="L218">            return null;</span>
        }
<span class="fc" id="L220">        Passport passport = client.getPassport();</span>
<span class="pc bpc" id="L221" title="1 of 2 branches missed.">        if ( passport == null ) {</span>
<span class="nc" id="L222">            return null;</span>
        }
<span class="fc" id="L224">        String series = passport.getSeries();</span>
<span class="pc bpc" id="L225" title="1 of 2 branches missed.">        if ( series == null ) {</span>
<span class="nc" id="L226">            return null;</span>
        }
<span class="fc" id="L228">        return series;</span>
    }

    private String statementClientPassportNumber(Statement statement) {
<span class="pc bpc" id="L232" title="1 of 2 branches missed.">        if ( statement == null ) {</span>
<span class="nc" id="L233">            return null;</span>
        }
<span class="fc" id="L235">        Client client = statement.getClient();</span>
<span class="fc bfc" id="L236" title="All 2 branches covered.">        if ( client == null ) {</span>
<span class="fc" id="L237">            return null;</span>
        }
<span class="fc" id="L239">        Passport passport = client.getPassport();</span>
<span class="pc bpc" id="L240" title="1 of 2 branches missed.">        if ( passport == null ) {</span>
<span class="nc" id="L241">            return null;</span>
        }
<span class="fc" id="L243">        String number = passport.getNumber();</span>
<span class="pc bpc" id="L244" title="1 of 2 branches missed.">        if ( number == null ) {</span>
<span class="nc" id="L245">            return null;</span>
        }
<span class="fc" id="L247">        return number;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>